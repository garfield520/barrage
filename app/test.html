<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    
     <!-- <script src="https://cdn.bootcss.com/velocity/1.5.0/velocity.js"></script>  -->
    <script src="comment.core.js"></script>
    <style lang="">
        body {
            background: skyblue
        }
        #demo {
            width: 600px;
            height: 350px;
            border: 1px solid #000;
            margin: 0 auto;
            position: relative
        }
        .no-animation {
            -webkit-animation: none !important;
        }
        button {
            padding: 10px;
        }
    </style>
    
</head>
<body>
    <br>
    <div id="demo"></div>
    <hr>
    <button id="send">send</button>
    <button id="clear">clear</button>
    <button id="pause">pause</button>
    <button id="resume">resume</button>
    <button id="setOpacity">setOpacity</button>
    <input type="range" id="range">
    <script>
        var demo = document.getElementById('demo');
        var send = document.getElementById('send')

        var _height = demo.offsetHeight;
        var _width = demo.offsetWidth;
        var _top = demo.offsetTop;
        var _left = demo.offsetLeft;

        var options = {
            fontSize: 22,
            color: 'yellow',
            comment_left: _left,
            comment_top: _top,
            comment_width: _width,
            comment_height: _height,
            duration: 5,
            duration_top: 3
        }
        
        var cm = new CommentManager(options);


        function sendcomment () {
            var text = [
                '前方高能预警',
                '请非战斗人员撤离',
                '前方臀控',
                '说XX福利出来，我不打死你',
                '说XXX的憋走，带我一个',
                '这是一个有味道的视频',
                '这是一个有味道的视频或隔着屏幕我都闻到了味道',
                '看得我尴尬症都犯了',
                '隔壁XXX过来的',
                '打卡',
                '这不科学',
                '如果XXX就是神作了',
                '6666',
                '233333333333',
                'XXX俺嫁或者XXX嫁我和XXX是我的或除了XXX都给你或XXX是我的或XXX在我床',
                '请收下我（一年份）的膝盖或给跪了'
            ][Math.floor(Math.random()*16)];

            var position = ['', 'top'][Math.round(Math.random())];

            var data = {
                color: '#fff',
                fontSize: 22,
                text: text,
                position: position
            }

            cm.send(data);
        }

        sendcomment()

        send.onclick = sendcomment;

        //  clear
        document.getElementById('clear').onclick = function () {
            cm.clear();
        }

        //  pause
        document.getElementById('pause').onclick = function () {
            cm.pause();
        }

        //  resume
        document.getElementById('resume').onclick = function () {
            cm.resume();
        }

        //  透明度
        document.getElementById('range').onchange = function () {
            var opacity = parseInt(this.value) / 100;
            cm.setOpacity(opacity);
        }

    </script>
</body>
</html>